<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:tx="http://www.springframework.org/schema/tx" 
	xmlns:demo-context="http://www.demon.com/schema/context"
	xsi:schemaLocation="
	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
	http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
	http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">

	<demo-context:component-scan base-package="demon.springframework.web.servlet.test" />

	<!--controller 映射关系的建立 -->
	<!-- <bean id="add" class="demon.springframework.web.servlet.test.AddController"></bean> 
		<bean id="update" class="demon.springframework.web.servlet.test.UpdateController"></bean> -->
	
	<!--HandlerMapping 配置url和controller的映射关系  -->
	<bean id="handlerMapping" class="demon.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		<property name="urlMap">
			<props>
				<prop key="/add">addController</prop>
				<prop key="/update">updateController</prop>
				<prop key="/remoting/HelloWorldService">helloWorldServiceExporter</prop>
			</props>
		</property>
	</bean>
	
	<bean id="requestMappingHandlerMapping" class="demon.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping"></bean>

	<!--添加适配器 适配DispatcherServlet中handler和各种`handle`接口  -->
	<bean id="handlerAdapter" class="demon.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter"></bean>
	<bean id="requestMappingHandlerAdapter" class="demon.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter"></bean>
	
	
	<bean id="helloWorldService" class="demon.test.service.HelloWorldServiceImpl" />
	
	<!--增加RMI服务器端的封装  -->
	<bean id="rmiServiceExporter" class="demon.springframework.remoting.rmi.RmiServiceExporter">
		<!-- 不一定要与要输出的bean同名 -->
		<property name="serviceName" value="HelloWorldService" />
		<property name="service" ref="helloWorldService" />
		<property name="serviceInterface" value="demon.test.service.HelloWorldService" />
		<!-- 默认为1199 -->
		<property name="registryPort" value="1199" />
	</bean>
	
	<!--增加Hessian HTTP请求服务端的封装  -->
	<bean id="helloWorldServiceExporter" class="demon.springframework.remoting.caucho.HessianServiceExporter">
		<property name="service" ref="helloWorldService" />
		<property name="serviceInterface" value="demon.test.service.HelloWorldService" />
	</bean>
	
</beans>